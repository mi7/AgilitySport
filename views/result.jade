extends layout

block content
  .row
    .span12
      h1.center
        span.hidden-phone Results for 
        span #{className}, #{dogSize}
      h2.center #{competition}, #{createdFormatted}
  .row
    .span12
      ul.inline.center
        li
          span Standard time 
          strong #{courseTimeInSeconds} sec
        li
          span Course length 
          strong #{courseLengthInMeters} m
        li
          span Judge 
          strong #{judge}
  .row
    .span6.offset3.center
      ul.inline
        li No faults #{noFaults}%
        li With faults #{withFaults}%
        li Disqualified #{disqualified}%
      .progress
        .bar.bar-success(style="width: #{noFaults}%")
        .bar.bar-warning(style="width: #{withFaults}%")
        .bar.bar-danger(style="width: #{disqualified}%")
  .row
    .span12
      table.table.table-striped
        tr
          th #
          th Name
          th Dog
          th Time
          th
          th
            abbr(title="Meters pr second") Velocity
          th.hidden-phone Time faults
          th.hidden-phone Course faults
          th Total faults 
        each result, i in results
          tr(class= result.disqualified ? 'muted' : '')
            td= (!result.disqualified) ? i+1 : 'Dis'
            td= result.name
            td= result.dog.name
            td= (result.time !== 0) ? result.time.toFixed(2) : ''
            td= (result.afterFirst && result.afterFirst !== 0) ? result.afterFirst.toFixed(2) : ''
            td= (result.metersPrSecond) ? result.metersPrSecond.toFixed(2) : ''
            td.hidden-phone= (result.timeFaults !== 0) ? result.timeFaults.toFixed(2) : ''
            td.hidden-phone= (result.courseFaults !== 0) ? result.courseFaults : ''
            td= (result.totalFaults !== 0) ? result.totalFaults.toFixed(2) : ''
